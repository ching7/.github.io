(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{357:function(s,a,t){"use strict";t.r(a);var n=t(44),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"fastdfs-åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fastdfs-åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ"}},[s._v("#")]),s._v(" FastDFS(åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ)")]),s._v(" "),t("h2",{attrs:{id:"_1-ä»€ä¹ˆæ˜¯fastdfs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä»€ä¹ˆæ˜¯fastdfs"}},[s._v("#")]),s._v(" 1  ä»€ä¹ˆæ˜¯FastDFS")]),s._v(" "),t("h3",{attrs:{id:"_1-1-ç®€ä»‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-ç®€ä»‹"}},[s._v("#")]),s._v(" 1.1  ç®€ä»‹")]),s._v(" "),t("p",[t("code",[s._v("FastDFS")]),s._v("æ˜¯ç”¨cè¯­è¨€ç¼–å†™çš„ä¸€æ¬¾å¼€æºçš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒæ˜¯ç”±æ·˜å®èµ„æ·±æ¶æ„å¸ˆä½™åº†ç¼–å†™å¹¶å¼€æºã€‚"),t("code",[s._v("FastDFS")]),s._v("ä¸“ä¸ºäº’è”ç½‘é‡èº«å®šåˆ¶ï¼Œå……åˆ†è€ƒè™‘äº†å†—ä½™å¤‡ä»½ã€è´Ÿè½½å‡è¡¡ã€çº¿æ€§æ‰©å®¹ç­‰æœºåˆ¶ï¼Œå¹¶æ³¨é‡é«˜å¯ç”¨ã€é«˜æ€§èƒ½ç­‰æŒ‡æ ‡ï¼Œä½¿ç”¨"),t("code",[s._v("FastDFS")]),s._v("å¾ˆå®¹æ˜“æ­å»ºä¸€å¥—é«˜æ€§èƒ½çš„æ–‡ä»¶æœåŠ¡å™¨é›†ç¾¤æä¾›æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ç­‰æœåŠ¡ã€‚")]),s._v(" "),t("p",[s._v("ä¸ºä»€ä¹ˆè¦ä½¿ç”¨"),t("code",[s._v("FastDFS")]),s._v("å‘¢ï¼Ÿ")]),s._v(" "),t("p",[s._v("å·²æœ‰çš„çš„"),t("code",[s._v("NFS")]),s._v("ã€"),t("code",[s._v("GFS")]),s._v("éƒ½æ˜¯é€šç”¨çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œé€šç”¨çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿçš„ä¼˜ç‚¹çš„æ˜¯å¼€å‘ä½“éªŒå¥½ï¼Œä½†æ˜¯ç³»ç»Ÿå¤æ‚æ€§é«˜ã€æ€§èƒ½ä¸€èˆ¬ï¼Œè€Œä¸“ç”¨çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿè™½ç„¶å¼€å‘ä½“éªŒæ€§å·®ï¼Œä½†æ˜¯ç³»ç»Ÿå¤æ‚æ€§ä½å¹¶ä¸”æ€§èƒ½é«˜ã€‚")]),s._v(" "),t("p",[t("code",[s._v("FastDFS")]),s._v("éå¸¸é€‚åˆå­˜å‚¨å›¾ç‰‡ç­‰é‚£äº›å°æ–‡ä»¶ï¼Œ"),t("code",[s._v("FastDFS")]),s._v("ä¸å¯¹æ–‡ä»¶è¿›è¡Œåˆ†å—ï¼Œæ‰€ä»¥å®ƒå°±æ²¡æœ‰åˆ†å—åˆå¹¶çš„å¼€é”€ï¼Œ"),t("code",[s._v("FastDFS")]),s._v("ç½‘ç»œé€šä¿¡é‡‡ç”¨"),t("code",[s._v("socket")]),s._v("ï¼Œé€šä¿¡é€Ÿåº¦å¾ˆå¿«ã€‚")]),s._v(" "),t("h3",{attrs:{id:"_1-2-å·¥ä½œåŸç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-å·¥ä½œåŸç†"}},[s._v("#")]),s._v(" 1.2  å·¥ä½œåŸç†")]),s._v(" "),t("h4",{attrs:{id:"_1-2-1-fastdsfæ¶æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-fastdsfæ¶æ„"}},[s._v("#")]),s._v(" 1.2.1 "),t("code",[s._v("FastDSF")]),s._v("æ¶æ„")]),s._v(" "),t("p",[t("img",{attrs:{src:"/image/fastdfs.jpg",alt:""}})]),s._v(" "),t("p",[t("code",[s._v("FastDFS")]),s._v("æ¶æ„åŒ…æ‹¬ "),t("code",[s._v("Tracker server")]),s._v("å’Œ"),t("code",[s._v("Storag eserver")]),s._v("ã€‚å®¢æˆ·ç«¯è¯·æ±‚"),t("code",[s._v("Tracker server")]),s._v("è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ï¼Œé€šè¿‡"),t("code",[s._v("Tracker server")]),s._v("è°ƒåº¦æœ€ç»ˆç”±"),t("code",[s._v("Storage server")]),s._v("å®Œæˆæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½ã€‚")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("Tracker")]),s._v(" "),t("p",[t("code",[s._v("Tracker Server")]),s._v("ä½œç”¨æ˜¯è´Ÿè½½å‡è¡¡å’Œè°ƒåº¦ï¼Œé€šè¿‡"),t("code",[s._v("Tracker server")]),s._v("åœ¨æ–‡ä»¶ä¸Šä¼ æ—¶å¯ä»¥æ ¹æ®ä¸€äº›ç­–ç•¥æ‰¾åˆ°"),t("code",[s._v("Storage server")]),s._v("æä¾›æ–‡ä»¶ä¸Šä¼ æœåŠ¡ã€‚å¯ä»¥å°†"),t("code",[s._v("Tracker")]),s._v("ç§°ä¸ºè¿½è¸ªæœåŠ¡å™¨æˆ–è°ƒåº¦æœåŠ¡å™¨ã€‚")]),s._v(" "),t("p",[t("code",[s._v("Tracker server")]),s._v("æ›´åƒä¸€ä¸ªç®¡ç†æŒ‡æŒ¥å‘˜ï¼Œç®¡ç†"),t("code",[s._v("Storage server")]),s._v("ï¼Œåè°ƒå®¢æˆ·æœºå°†æ–‡ä»¶ä¸Šä¼ åˆ°"),t("code",[s._v("Storage Server")])]),s._v(" "),t("p",[t("code",[s._v("FastDFS")]),s._v("é›†ç¾¤ä¸­çš„"),t("code",[s._v("Tracker server")]),s._v("å¯ä»¥æœ‰å¤šå°ï¼Œ"),t("code",[s._v("Tracker server")]),s._v("ä¹‹é—´æ˜¯ç›¸äº’å¹³ç­‰å…³ç³»åŒæ—¶æä¾›æœåŠ¡ï¼Œ"),t("code",[s._v("Tracker server")]),s._v("ä¸å­˜åœ¨å•ç‚¹æ•…éšœã€‚å®¢æˆ·ç«¯è¯·æ±‚"),t("code",[s._v("racker server")]),s._v("é‡‡ç”¨è½®è¯¢æ–¹å¼ï¼Œå¦‚æœè¯·æ±‚çš„"),t("code",[s._v("tracker")]),s._v("æ— æ³•æä¾›æœåŠ¡åˆ™æ¢å¦ä¸€ä¸ª"),t("code",[s._v("tracker")]),s._v("ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("Storage")]),s._v(" "),t("p",[t("code",[s._v("Storage Server")]),s._v("ä½œç”¨æ˜¯æ–‡ä»¶å­˜å‚¨ï¼Œå®¢æˆ·ç«¯ä¸Šä¼ çš„æ–‡ä»¶æœ€ç»ˆå­˜å‚¨åœ¨"),t("code",[s._v("Storage")]),s._v("æœåŠ¡å™¨ä¸Šï¼Œ"),t("code",[s._v("Storage server")]),s._v("æ²¡æœ‰å®ç°è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿè€Œæ˜¯ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿæ¥ç®¡ç†æ–‡ä»¶ã€‚å¯ä»¥å°†"),t("code",[s._v("storage")]),s._v("ç§°ä¸ºå­˜å‚¨æœåŠ¡å™¨ã€‚")]),s._v(" "),t("p",[t("code",[s._v("Storage")]),s._v("é›†ç¾¤é‡‡ç”¨äº†åˆ†ç»„å­˜å‚¨æ–¹å¼ã€‚"),t("code",[s._v("storage")]),s._v("é›†ç¾¤ç”±ä¸€ä¸ªæˆ–å¤šä¸ªç»„æ„æˆï¼Œé›†ç¾¤å­˜å‚¨æ€»å®¹é‡ä¸ºé›†ç¾¤ä¸­æ‰€æœ‰ç»„çš„å­˜å‚¨å®¹é‡ä¹‹å’Œã€‚ä¸€ä¸ªç»„ç”±ä¸€å°æˆ–å¤šå°å­˜å‚¨æœåŠ¡å™¨ç»„æˆï¼Œç»„å†…çš„"),t("code",[s._v("Storage server")]),s._v("ä¹‹é—´æ˜¯å¹³ç­‰å…³ç³»ï¼Œä¸åŒç»„çš„"),t("code",[s._v("Storage server")]),s._v("ä¹‹é—´ä¸ä¼šç›¸äº’é€šä¿¡ï¼ŒåŒç»„å†…çš„"),t("code",[s._v("Storage server")]),s._v("ä¹‹é—´ä¼šç›¸äº’è¿æ¥è¿›è¡Œæ–‡ä»¶åŒæ­¥ï¼Œä»è€Œä¿è¯åŒç»„å†…æ¯ä¸ª"),t("code",[s._v("storage")]),s._v("ä¸Šçš„æ–‡ä»¶å®Œ\nå…¨ä¸€è‡´çš„ã€‚ä¸€ä¸ªç»„çš„å­˜å‚¨å®¹é‡ä¸ºè¯¥ç»„å†…å­˜å‚¨æœåŠ¡å™¨å®¹é‡æœ€å°çš„é‚£ä¸ªï¼Œç”±æ­¤å¯è§ç»„å†…å­˜å‚¨æœåŠ¡å™¨çš„è½¯ç¡¬ä»¶é…ç½®æœ€å¥½æ˜¯ä¸€è‡´çš„ã€‚")]),s._v(" "),t("p",[s._v("é‡‡ç”¨åˆ†ç»„å­˜å‚¨æ–¹å¼çš„å¥½å¤„æ˜¯çµæ´»ã€å¯æ§æ€§è¾ƒå¼ºã€‚æ¯”å¦‚ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œå¯ä»¥ç”±å®¢æˆ·ç«¯ç›´æ¥æŒ‡å®šä¸Šä¼ åˆ°çš„ç»„ä¹Ÿå¯ä»¥ç”±"),t("code",[s._v("tracker")]),s._v("è¿›è¡Œè°ƒåº¦é€‰æ‹©ã€‚ä¸€ä¸ªåˆ†ç»„çš„å­˜å‚¨æœåŠ¡å™¨è®¿é—®å‹åŠ›è¾ƒå¤§æ—¶ï¼Œå¯ä»¥åœ¨è¯¥ç»„å¢åŠ å­˜å‚¨æœåŠ¡å™¨æ¥æ‰©å……æœåŠ¡èƒ½åŠ›ï¼ˆçºµå‘æ‰©å®¹ï¼‰ã€‚å½“ç³»ç»Ÿå®¹é‡ä¸è¶³æ—¶ï¼Œå¯ä»¥å¢åŠ ç»„æ¥æ‰©å……å­˜å‚¨å®¹é‡ï¼ˆæ¨ªå‘æ‰©å®¹ï¼‰ã€‚")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("Storage")]),s._v("çŠ¶æ€æ”¶é›†")]),s._v(" "),t("p",[t("code",[s._v("Storage server")]),s._v("ä¼šè¿æ¥é›†ç¾¤ä¸­æ‰€æœ‰çš„"),t("code",[s._v("Tracker server")]),s._v("ï¼Œå®šæ—¶å‘ä»–ä»¬æŠ¥å‘Šè‡ªå·±çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬ç£ç›˜å‰©ä½™ç©ºé—´ã€æ–‡ä»¶åŒæ­¥çŠ¶å†µã€æ–‡ä»¶ä¸Šä¼ ä¸‹è½½æ¬¡æ•°ç­‰ç»Ÿè®¡ä¿¡æ¯ã€‚")])])]),s._v(" "),t("h4",{attrs:{id:"_1-2-2-æ–‡ä»¶ä¸Šä¼ æµç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-æ–‡ä»¶ä¸Šä¼ æµç¨‹"}},[s._v("#")]),s._v(" 1.2.2 æ–‡ä»¶ä¸Šä¼ æµç¨‹")]),s._v(" "),t("p",[t("img",{attrs:{src:"/image/fastdfs1.jpg",alt:"fastdfsä¸Šä¼ æµç¨‹"}})]),s._v(" "),t("p",[s._v("å®¢æˆ·ç«¯ä¸Šä¼ æ–‡ä»¶åå­˜å‚¨æœåŠ¡å™¨å°†æ–‡ä»¶IDè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ–‡ä»¶IDç”¨äºä»¥åè®¿é—®è¯¥æ–‡ä»¶çš„ç´¢å¼•ä¿¡æ¯ã€‚æ–‡ä»¶ç´¢å¼•ä¿¡æ¯åŒ…æ‹¬ï¼šç»„åï¼Œè™šæ‹Ÿç£ç›˜è·¯å¾„ï¼Œæ•°æ®ä¸¤çº§ç›®å½•ï¼Œæ–‡ä»¶åã€‚")]),s._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[s._v("group1/M00/00/00/wKjRgF3PPvOAOF7HAAFl33KnvNs832.jpg\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("ç»„åï¼šæ–‡ä»¶ä¸Šä¼ åæ‰€åœ¨çš„"),t("code",[s._v("storage")]),s._v("ç»„åç§°ï¼Œåœ¨æ–‡ä»¶ä¸Šä¼ æˆåŠŸåæœ‰"),t("code",[s._v("storage")]),s._v("æœåŠ¡å™¨è¿”å›ï¼Œéœ€è¦å®¢æˆ·ç«¯è‡ªè¡Œä¿å­˜ã€‚")]),s._v(" "),t("li",[s._v("è™šæ‹Ÿç£ç›˜è·¯å¾„ï¼š"),t("code",[s._v("storage")]),s._v("é…ç½®çš„è™šæ‹Ÿè·¯å¾„ï¼Œä¸ç£ç›˜é€‰é¡¹"),t("code",[s._v("store_path*")]),s._v("å¯¹åº”ã€‚å¦‚æœé…ç½®äº†"),t("code",[s._v("store_path0")]),s._v("åˆ™æ˜¯"),t("code",[s._v("M00")]),s._v("ï¼Œå¦‚æœé…ç½®äº†"),t("code",[s._v("store_path1")]),s._v("åˆ™æ˜¯"),t("code",[s._v("M01")]),s._v("ï¼Œä»¥æ­¤ç±»æ¨ã€‚")]),s._v(" "),t("li",[s._v("æ•°æ®ä¸¤çº§ç›®å½•ï¼š"),t("code",[s._v("storage")]),s._v("æœåŠ¡å™¨åœ¨æ¯ä¸ªè™šæ‹Ÿç£ç›˜è·¯å¾„ä¸‹åˆ›å»ºçš„ä¸¤çº§ç›®å½•ï¼Œç”¨äºå­˜å‚¨æ•°æ®æ–‡ä»¶")]),s._v(" "),t("li",[s._v("æ–‡ä»¶åï¼šä¸æ–‡ä»¶ä¸Šä¼ æ—¶ä¸åŒã€‚æ˜¯ç”±å­˜å‚¨æœåŠ¡å™¨æ ¹æ®ç‰¹å®šä¿¡æ¯ç”Ÿæˆï¼Œæ–‡ä»¶ååŒ…å«ï¼šæºå­˜å‚¨æœåŠ¡å™¨IPåœ°å€ã€æ–‡ä»¶åˆ›\nå»ºæ—¶é—´æˆ³ã€æ–‡ä»¶å¤§å°ã€éšæœºæ•°å’Œæ–‡ä»¶æ‹“å±•åç­‰ä¿¡æ¯ã€‚")])]),s._v(" "),t("h4",{attrs:{id:"_1-2-3-æ–‡ä»¶ä¸‹è½½æµç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-æ–‡ä»¶ä¸‹è½½æµç¨‹"}},[s._v("#")]),s._v(" 1.2.3 æ–‡ä»¶ä¸‹è½½æµç¨‹")]),s._v(" "),t("p",[s._v("trackeræ ¹æ®è¯·æ±‚çš„æ–‡ä»¶è·¯å¾„å³æ–‡ä»¶ID æ¥å¿«é€Ÿå®šä¹‰æ–‡ä»¶ã€‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"/image/fastdfs2.jpg",alt:"fastdfsä¸‹è½½æµç¨‹"}})]),s._v(" "),t("p",[s._v("æ¯”å¦‚è¯·æ±‚ä¸‹è¾¹çš„æ–‡ä»¶ï¼š")]),s._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[s._v("group1/M00/00/00/wKjRgF3PPvOAOF7HAAFl33KnvNs832.jpg\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("é€šè¿‡ç»„å"),t("code",[s._v("tracker")]),s._v("èƒ½å¤Ÿå¾ˆå¿«çš„å®šä½åˆ°å®¢æˆ·ç«¯éœ€è¦è®¿é—®çš„å­˜å‚¨æœåŠ¡å™¨ç»„æ˜¯"),t("code",[s._v("group1")]),s._v("ï¼Œå¹¶é€‰æ‹©åˆé€‚çš„å­˜å‚¨æœåŠ¡å™¨æä¾›å®¢æˆ·ç«¯è®¿é—®ã€‚")]),s._v(" "),t("li",[s._v("å­˜å‚¨æœåŠ¡å™¨æ ¹æ®â€œæ–‡ä»¶å­˜å‚¨è™šæ‹Ÿç£ç›˜è·¯å¾„â€å’Œâ€œæ•°æ®æ–‡ä»¶ä¸¤çº§ç›®å½•â€å¯ä»¥å¾ˆå¿«å®šä½åˆ°æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œå¹¶æ ¹æ®æ–‡ä»¶åæ‰¾åˆ°\nå®¢æˆ·ç«¯éœ€è¦è®¿é—®çš„æ–‡ä»¶ã€‚")])]),s._v(" "),t("h2",{attrs:{id:"_2-fastdfså…¥é—¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-fastdfså…¥é—¨"}},[s._v("#")]),s._v(" 2 FastDFSå…¥é—¨")]),s._v(" "),t("h3",{attrs:{id:"_2-1-fastdfså®‰è£…é…ç½®-tracker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-fastdfså®‰è£…é…ç½®-tracker"}},[s._v("#")]),s._v(" 2.1 FastDFSå®‰è£…é…ç½®(tracker)")]),s._v(" "),t("p",[s._v("æ³¨ï¼šæœ¬æ¬¡ä¹‹å®‰è£…ä¸€å°trackerã€storage,ä¸”éƒ½åœ¨åŒä¸€å°æœºå™¨ä¸Šã€æ–¹ä¾¿è°ƒè¯•ã€‚æœ‰å…´è¶£çš„å¯ä»¥æ‹“å±•æˆåˆ†å¸ƒå¼")]),s._v(" "),t("h4",{attrs:{id:"_2-1-1-å®‰è£…æ¡ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-å®‰è£…æ¡ä»¶"}},[s._v("#")]),s._v(" 2.1.1 å®‰è£…æ¡ä»¶")]),s._v(" "),t("ul",[t("li",[s._v("éœ€è¦ä¸€å°"),t("code",[s._v("CentOS7")]),s._v("è™šæ‹Ÿæœº")]),s._v(" "),t("li",[s._v("ä¸‹è½½"),t("code",[s._v("FastDFS")]),s._v("å®‰è£…åŒ…ï¼Œåœ°å€ï¼šhttps://github.com/happyfish100/FastDFS ï¼Œæœ¬æ–‡æ¡£ä½¿ç”¨"),t("code",[s._v("FastDFS_v5.05.tar.gz")])])]),s._v(" "),t("h4",{attrs:{id:"_2-1-2-å‡†å¤‡å®‰è£…ç¯å¢ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-å‡†å¤‡å®‰è£…ç¯å¢ƒ"}},[s._v("#")]),s._v(" 2.1.2 å‡†å¤‡å®‰è£…ç¯å¢ƒ")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("FastDFS")]),s._v("æ˜¯"),t("code",[s._v("Cè¯­è¨€")]),s._v("å¼€å‘ï¼Œç¼–è¯‘ä¾èµ–"),t("code",[s._v("gcc")]),s._v("ç¯å¢ƒï¼Œå®‰è£… "),t("code",[s._v("gcc")])]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[s._v("yum -y install gcc-c++\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("ä¾èµ–ä¾èµ–"),t("code",[s._v("libevent")]),s._v("åº“")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[s._v("yum -y install libevent\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("libfastcommon")]),s._v("æ˜¯"),t("code",[s._v("FastDFS")]),s._v("å®˜æ–¹æä¾›çš„ï¼Œ"),t("code",[s._v("libfastcommon")]),s._v("åŒ…å«äº†"),t("code",[s._v("FastDFS")]),s._v("è¿è¡Œæ‰€éœ€è¦çš„ä¸€äº›åŸºç¡€åº“ã€‚æœ¬æ–‡æ¡£ä½¿ç”¨çš„æ˜¯"),t("code",[s._v("libfastcommonV1.0.7.tar.gz")]),s._v(",ä¸‹è½½åœ°å€ï¼šhttps://github.com/happyfish100/libfastcommon/releases")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å°†libfastcommonV1.0.7.tar.gzæ‹·è´è‡³/usr/local/ä¸‹")]),s._v("\ncd /usr/local\ntar -zxvf libfastcommonV1."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.7")]),s._v(".tar.gz\ncd libfastcommon-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0.7")]),s._v("\n./make.sh\n./make.sh install\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("æ³¨æ„ï¼š"),t("code",[s._v("libfastcommon")]),s._v("å®‰è£…å¥½åä¼šè‡ªåŠ¨å°†åº“æ–‡ä»¶æ‹·è´è‡³"),t("code",[s._v("/usr/lib64")]),s._v("ä¸‹ï¼Œç”±äº"),t("code",[s._v("FastDFS")]),s._v("ç¨‹åºå¼•ç”¨"),t("code",[s._v("usr/lib")]),s._v("ç›®å½•æ‰€ä»¥éœ€è¦å°†"),t("code",[s._v("/usr/lib64")]),s._v("ä¸‹çš„åº“æ–‡ä»¶æ‹·è´è‡³/"),t("code",[s._v("usr/lib")]),s._v("ä¸‹ã€‚")])]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿™é‡Œè¦æ ¹æ®linux 32è¿˜æ˜¯64ä½çš„å®é™…è°ƒæ•´")]),s._v("\ncp /usr/lib64/libfastcommon.so /usr/lib/libfastcommon.so\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])]),s._v(" "),t("h4",{attrs:{id:"_2-1-3-å®‰è£…fastdfs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-å®‰è£…fastdfs"}},[s._v("#")]),s._v(" 2.1.3 å®‰è£…FastDFS")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å°†FastDFS_v5.05.tar.gzæ‹·è´è‡³/usr/local/ä¸‹")]),s._v("\n\ntar -zxvf FastDFS_v5."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("05")]),s._v(".tar.gz\n\ncd FastDFS\n\n./make.sh\n./make.sh install\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®‰è£…æˆåŠŸå°†å®‰è£…ç›®å½•ä¸‹çš„confä¸‹çš„æ–‡ä»¶æ‹·è´åˆ°/etc/fdfs/ä¸‹ã€‚")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h4",{attrs:{id:"_2-1-4-é…ç½®fastdfs-tracker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-é…ç½®fastdfs-tracker"}},[s._v("#")]),s._v(" 2.1.4 é…ç½®FastDFS(tracker)")]),s._v(" "),t("p",[s._v("å®‰è£…æˆåŠŸåè¿›å…¥"),t("code",[s._v("/etc/fdfs")]),s._v("ç›®å½•")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ‹·è´ä¸€ä»½æ–°çš„trackeré…ç½®æ–‡ä»¶ï¼š")]),s._v("\ncp tracker.conf.sample tracker.conf\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¿®æ”¹tracker.conf")]),s._v("\nvi tracker.conf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# base_path=/home/yuqing/FastDFS   ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ”¹ä¸ºï¼šï¼ˆæ ¹æ®ä¸ªäººå…·ä½“æƒ…å†µè°ƒæ•´ï¼‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# base_path=/home/FastDFS")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®httpç«¯å£ï¼š")]),s._v("\nhttp.server_port="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h4",{attrs:{id:"_2-1-5-å¯åŠ¨tracker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-5-å¯åŠ¨tracker"}},[s._v("#")]),s._v(" 2.1.5 å¯åŠ¨Tracker")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ³¨æ„æ§åˆ¶å°çš„æ‰“å°ä¿¡æ¯ï¼ˆæ³¨æ„å¯åŠ¨é¡ºåº-tracker-storageï¼‰")]),s._v("\n/usr/bin/fdfs_trackerd /etc/fdfs/tracker.conf restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_2-2-fastdfså®‰è£…é…ç½®-storage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-fastdfså®‰è£…é…ç½®-storage"}},[s._v("#")]),s._v(" 2.2 FastDFSå®‰è£…é…ç½®(storage)")]),s._v(" "),t("h4",{attrs:{id:"_2-2-1-å®‰è£…è¿‡ç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-å®‰è£…è¿‡ç¨‹"}},[s._v("#")]),s._v(" 2.2.1 å®‰è£…è¿‡ç¨‹")]),s._v(" "),t("p",[s._v("åŒ "),t("code",[s._v("Tracker")])]),s._v(" "),t("h4",{attrs:{id:"_2-2-2-é…ç½®fastdfs-storage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-é…ç½®fastdfs-storage"}},[s._v("#")]),s._v(" 2.2.2 é…ç½®FastDFS(Storage)")]),s._v(" "),t("p",[s._v("å®‰è£…æˆåŠŸåè¿›å…¥"),t("code",[s._v("/etc/fdfs")]),s._v("ç›®å½•")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ‹·è´ä¸€ä»½æ–°çš„storageé…ç½®æ–‡ä»¶ï¼š")]),s._v("\ncp storage.conf.sample storage.conf\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¿®æ”¹storage.conf")]),s._v("\nvi storage.conf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# group_name=group1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# base_path=/home/yuqing/FastDFS æ”¹ä¸ºï¼šbase_path=/home/FastDFSï¼ˆæ ¹æ®ä¸ªäººå…·ä½“æƒ…å†µè°ƒæ•´ï¼‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# store_path0=/home/yuqing/FastDFS æ”¹ä¸ºï¼šstore_path0=/home/FastDFS/fdfs_storageï¼ˆæ ¹æ®ä¸ªäººå…·ä½“æƒ…å†µè°ƒæ•´ï¼‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¦‚æœæœ‰å¤šä¸ªæŒ‚è½½ç£ç›˜åˆ™å®šä¹‰å¤šä¸ªstore_pathï¼Œå¦‚ä¸‹ï¼ˆæ ¹æ®ä¸ªäººå…·ä½“æƒ…å†µè°ƒæ•´ï¼‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#store_path1=.....")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#store_path2=......")]),s._v("\ntracker_server="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.101.3")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22122")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é…ç½®trackeræœåŠ¡å™¨:IP")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#å¦‚æœæœ‰å¤šä¸ªåˆ™é…ç½®å¤šä¸ªtracker")]),s._v("\ntracker_server="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.101.4")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22122")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é…ç½®httpç«¯å£")]),s._v("\nhttp.server_port="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h4",{attrs:{id:"_2-2-3-å¯åŠ¨storage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-å¯åŠ¨storage"}},[s._v("#")]),s._v(" 2.2.3 å¯åŠ¨Storage")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ³¨æ„æ§åˆ¶å°çš„æ‰“å°ä¿¡æ¯ï¼ˆæ³¨æ„å¯åŠ¨é¡ºåº-tracker-storageï¼‰")]),s._v("\n/usr/bin/fdfs_storaged /etc/fdfs/storage.conf restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_2-3-æµ‹è¯•fastdfsæ˜¯å¦å®‰è£…æˆåŠŸ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-æµ‹è¯•fastdfsæ˜¯å¦å®‰è£…æˆåŠŸ"}},[s._v("#")]),s._v(" 2.3 æµ‹è¯•FastDFSæ˜¯å¦å®‰è£…æˆåŠŸ")]),s._v(" "),t("h4",{attrs:{id:"_2-3-1-ä¸Šä¼ å›¾ç‰‡æµ‹è¯•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-ä¸Šä¼ å›¾ç‰‡æµ‹è¯•"}},[s._v("#")]),s._v(" 2.3.1 ä¸Šä¼ å›¾ç‰‡æµ‹è¯•")]),s._v(" "),t("p",[t("code",[s._v("FastDFS")]),s._v("å®‰è£…æˆåŠŸå¯é€šè¿‡"),t("code",[s._v("/usr/bin/fdfs_test")]),s._v("æµ‹è¯•ä¸Šä¼ ã€ä¸‹è½½ç­‰æ“ä½œã€‚")]),s._v(" "),t("p",[s._v("ä¿®æ”¹"),t("code",[s._v("/etc/fdfs/client.conf")])]),s._v(" "),t("p",[t("code",[s._v("tracker_server")]),s._v("æ ¹æ®è‡ªå·±éƒ¨ç½²è™šæ‹Ÿæœºçš„æƒ…å†µ/é…ç½®")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ‹·è´ä¸€ä»½æ–°çš„clienté…ç½®æ–‡ä»¶ï¼š")]),s._v("\ncp client.conf.sample client.conf\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¿®æ”¹é…ç½®æ–‡ä»¶")]),s._v("\nvi client.conf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# base_path=/home/fastdfs")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tracker_server=192.168.101.3:22122")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("ä½¿ç”¨æ ¼å¼ï¼š")]),s._v(" "),t("p",[t("code",[s._v("/usr/bin/fdfs_test")]),s._v("å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶åœ°å€  "),t("code",[s._v("upload")]),s._v(" ä¸Šä¼ æ–‡ä»¶")]),s._v(" "),t("p",[s._v("æ¯”å¦‚å°†"),t("code",[s._v("/home")]),s._v("ä¸‹çš„å›¾ç‰‡ä¸Šä¼ åˆ°"),t("code",[s._v("FastDFS")]),s._v("ä¸­ï¼š")]),s._v(" "),t("div",{staticClass:"language-cma line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("/usr/bin/fdfs_test /etc/fdfs/client.conf upload /home/tomcat.png\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("çœ‹åˆ°å¦‚ä¸‹æ—¥å¿—ï¼š")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[s._v("This is FastDFS client test program v5."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("05")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Copyright")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("C"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2008")]),s._v(", Happy Fish / YuQing\n\nFastDFS may be copied only under the terms of the GNU General\nPublic License V3, which may be found in the FastDFS source kit.\nPlease visit the FastDFS Home Page http://www.csource.org/ \nfor more detail.\n\n["),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("] DEBUG - base_path=/home/chenyn/fastdfs/FastDFS, connect_timeout="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(", network_timeout="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v(", tracker_server_count="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", anti_steal_token="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", anti_steal_secret_key length="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", use_connection_pool="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", g_connection_pool_max_idle_time=3600s, use_storage_id="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", storage server id count: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\ntracker_query_storage_store_list_without_group: \n\tserver "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". group_name=, ip_addr="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.127.128")]),s._v(", port="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23000")]),s._v("\n\ngroup_name=group1, ip_addr="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.127.128")]),s._v(", port="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("23000")]),s._v("\nstorage_upload_by_filename\ngroup_name=group1, remote_filename=M00/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("/wKh_gF3SsRyAJg6iAABlnZYG9PM641.png\nsource ip address: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.127.128")]),s._v("\nfile timestamp="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("\nfile size="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("26013")]),s._v("\nfile crc32="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2517038323")]),s._v("\nexample file url: http://"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.127.128")]),s._v("/group1/M00/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("/wKh_gF3SsRyAJg6iAABlnZYG9PM641.png\nstorage_upload_slave_by_filename\ngroup_name=group1, remote_filename=M00/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("/wKh_gF3SsRyAJg6iAABlnZYG9PM641_big.png\nsource ip address: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.127.128")]),s._v("\nfile timestamp="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("56")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("29")]),s._v("\nfile size="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("26013")]),s._v("\nfile crc32="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2517038323")]),s._v("\nexample file url: http://"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.127.128")]),s._v("/group1/M00/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("/wKh_gF3SsRyAJg6iAABlnZYG9PM641_big.png\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br")])]),t("p",[s._v("æ­å–œä½ æˆåŠŸäº†ğŸ™‚~")]),s._v(" "),t("h4",{attrs:{id:"_2-3-2-ä¸‹è½½å›¾ç‰‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-ä¸‹è½½å›¾ç‰‡"}},[s._v("#")]),s._v(" 2.3.2 ä¸‹è½½å›¾ç‰‡")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[s._v("http://"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.127.128")]),s._v("/group1/M00/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("/wKh_gF3SsRyAJg6iAABlnZYG9PM641_big.png\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ­¤è·¯å¾„å°±æ˜¯æ–‡ä»¶çš„ä¸‹è½½è·¯å¾„ å¯¹åº”storageæœåŠ¡å™¨ä¸Šçš„")]),s._v("\n/home/chenyn/fastdfs/FastDFS/storage/data/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("00")]),s._v("/wKh_gF3SsRyAJg6iAABlnZYG9PM641_big.pngæ–‡ä»¶ã€‚\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç”±äºç°åœ¨è¿˜æ²¡æœ‰å’Œnginxæ•´åˆæ— æ³•ä½¿ç”¨httpä¸‹è½½ã€‚å¾…æ–°å¢")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"_3-springbootæ•´åˆfastdfså®ç°æ–‡ä»¶ä¸Šä¼ ä¸‹è½½æµ‹è¯•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-springbootæ•´åˆfastdfså®ç°æ–‡ä»¶ä¸Šä¼ ä¸‹è½½æµ‹è¯•"}},[s._v("#")]),s._v(" 3 SpringBootæ•´åˆFastDFSå®ç°æ–‡ä»¶ä¸Šä¼ ä¸‹è½½æµ‹è¯•")]),s._v(" "),t("p",[s._v("ä½¿ç”¨"),t("code",[s._v("javaApi")]),s._v("æµ‹è¯•æ–‡ä»¶çš„ä¸Šä¼ ã€‚\n"),t("code",[s._v("java")]),s._v("ç‰ˆæœ¬çš„"),t("code",[s._v("fastdfs-client")]),s._v("åœ°å€åœ¨ï¼šhttps://github.com/happyfish100/fastdfs-client-javaï¼Œå‚è€ƒæ­¤å·¥ç¨‹ç¼–å†™æµ‹è¯•ç”¨\nä¾‹ã€‚")]),s._v(" "),t("h3",{attrs:{id:"_3-1-ç¯å¢ƒæ­å»º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-ç¯å¢ƒæ­å»º"}},[s._v("#")]),s._v(" 3.1 ç¯å¢ƒæ­å»º")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("æ–°å»ºmavenå·¥ç¨‹")])]),s._v(" "),t("li",[t("p",[s._v("æ·»åŠ ä¾èµ–")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("parent")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.springframework.boot"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-boot-starter-parent"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("2.1.9.RELEASE"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("relativePath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("/>")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- lookup parent from repository --\x3e")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("parent")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("cn.itcast.javaee"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("fastdfs"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("1.0â€SNAPSHOT"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependencies")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n \t   "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.springframework.boot"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-boot-starter-web"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.springframework.boot"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-boot-starter-test"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("scope")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("test"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("scope")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("commons-io"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("commons-io"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("2.4"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- https://mvnrepository.com/artifact/net.oschina.zcx7878/fastdfs-client-java --\x3e")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("net.oschina.zcx7878"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("fastdfs-client-java"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("1.27.0.0"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\t\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependencies")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("resourcesç›®å½•ä¸‹æ–°å»ºé…ç½®æ–‡ä»¶"),t("code",[s._v("fastdfs-client.properties")])])])]),s._v(" "),t("div",{staticClass:"language-properties line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("fastdfs.connect_timeout_in_seconds")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("5")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("fastdfs.network_timeout_in_seconds")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("30")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("fastdfs.charset")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("UTFâ€8")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("fastdfs.http_anti_steal_token")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("false")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("fastdfs.http_secret_key")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("FastDFS1234567890")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("fastdfs.http_tracker_http_port")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("80")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("fastdfs.tracker_servers")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("192.168.101.64:22122")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("h3",{attrs:{id:"_3-2-æ–‡ä»¶ä¸Šä¼ ã€æŸ¥è¯¢ã€ä¸‹è½½"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-æ–‡ä»¶ä¸Šä¼ ã€æŸ¥è¯¢ã€ä¸‹è½½"}},[s._v("#")]),s._v(" 3.2 æ–‡ä»¶ä¸Šä¼ ã€æŸ¥è¯¢ã€ä¸‹è½½")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * æ–‡ä»¶ä¸Šä¼ \n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Test")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fileUpload")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java.version="')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getProperty")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java.version"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åŠ è½½é…ç½®æ–‡ä»¶")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ClientGlobal.init(conf_filename);")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClientGlobal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("initByProperties")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fastdfs-client.properties"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"network_timeout="')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClientGlobal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("g_network_timeout "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ms"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"charset="')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClientGlobal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("g_charset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//åˆ›å»ºtrackerå®¢æˆ·ç«¯")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TrackerClient")]),s._v(" tracker "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TrackerClient")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TrackerServer")]),s._v(" trackerServer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tracker"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getConnection")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StorageServer")]),s._v(" storageServer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å®šä¹‰ä¸€ä¸ªstorageå®¢æˆ·ç«¯")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StorageClient1")]),s._v(" client "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StorageClient1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("trackerServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" storageServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ–‡ä»¶å…ƒä¿¡æ¯")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NameValuePair")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" metaList "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NameValuePair")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            metaList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NameValuePair")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fileName"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C:\\\\Users\\\\hspcadmin\\\\Desktop\\\\cat.jpg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æ‰§è¡Œä¸Šä¼ ")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" fileId "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("upload_file1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C:\\\\Users\\\\hspcadmin\\\\Desktop\\\\cat.jpg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jpg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" metaList"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"upload success. file id is: "')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" fileId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å…³é—­trackeræœåŠ¡")]),s._v("\n            trackerServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("close")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" ex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            ex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * æŸ¥è¯¢æ–‡ä»¶\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Test")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("queryFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java.version="')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getProperty")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java.version"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åŠ è½½é…ç½®æ–‡ä»¶")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ClientGlobal.init(conf_filename);")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClientGlobal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("initByProperties")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fastdfs-client.properties"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"network_timeout="')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClientGlobal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("g_network_timeout "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ms"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"charset="')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClientGlobal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("g_charset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//åˆ›å»ºtrackerå®¢æˆ·ç«¯")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TrackerClient")]),s._v(" tracker "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TrackerClient")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TrackerServer")]),s._v(" trackerServer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tracker"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getConnection")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StorageServer")]),s._v(" storageServer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å®šä¹‰ä¸€ä¸ªstorageå®¢æˆ·ç«¯")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StorageClient1")]),s._v(" client "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StorageClient1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("trackerServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" storageServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æŸ¥è¯¢æ–‡ä»¶")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FileInfo")]),s._v(" fileInfo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("query_file_info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"group1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"M00/00/00/wKjRgF3PSxiAHuHtAAFl33KnvNs253.jpg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FileInfo")]),s._v(" fileInfo1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("query_file_info1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"group1/M00/00/00/wKjRgF3PSxiAHuHtAAFl33KnvNs253.jpg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fileInfo1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//æŸ¥è¯¢æ–‡ä»¶å…ƒä¿¡æ¯")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NameValuePair")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" fileInfos "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("  client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get_metadata1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"group1/M00/00/00/wKjRgF3PSxiAHuHtAAFl33KnvNs253.jpg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fileInfos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å…³é—­trackeræœåŠ¡")]),s._v("\n            trackerServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("close")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" ex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            ex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * æ–‡ä»¶ä¸‹è½½\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Test")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fileDownload")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åŠ è½½é…ç½®æ–‡ä»¶")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ClientGlobal.init(conf_filename);")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClientGlobal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("initByProperties")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fastdfs-client.properties"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"network_timeout="')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClientGlobal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("g_network_timeout "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ms"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"charset="')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClientGlobal")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("g_charset"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//åˆ›å»ºtrackerå®¢æˆ·ç«¯")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TrackerClient")]),s._v(" tracker "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TrackerClient")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TrackerServer")]),s._v(" trackerServer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tracker"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getConnection")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StorageServer")]),s._v(" storageServer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å®šä¹‰ä¸€ä¸ªstorageå®¢æˆ·ç«¯")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StorageClient1")]),s._v(" client "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StorageClient1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("trackerServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" storageServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//ä¸‹è½½æ–‡ä»¶")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" fileBytes "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("download_file1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"group1/M00/00/00/wKjRgF3PSxiAHuHtAAFl33KnvNs253.jpg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("File")]),s._v(" file "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("File")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D:/chenyn.jpg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FileOutputStream")]),s._v("  fileOutputStream "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FileOutputStream")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("file"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            fileOutputStream"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("write")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fileBytes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            fileOutputStream"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("close")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//å…³é—­trackeræœåŠ¡")]),s._v("\n            trackerServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("close")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" ex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            ex"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("printStackTrace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br"),t("span",{staticClass:"line-number"},[s._v("88")]),t("br"),t("span",{staticClass:"line-number"},[s._v("89")]),t("br"),t("span",{staticClass:"line-number"},[s._v("90")]),t("br"),t("span",{staticClass:"line-number"},[s._v("91")]),t("br"),t("span",{staticClass:"line-number"},[s._v("92")]),t("br"),t("span",{staticClass:"line-number"},[s._v("93")]),t("br"),t("span",{staticClass:"line-number"},[s._v("94")]),t("br"),t("span",{staticClass:"line-number"},[s._v("95")]),t("br"),t("span",{staticClass:"line-number"},[s._v("96")]),t("br"),t("span",{staticClass:"line-number"},[s._v("97")]),t("br"),t("span",{staticClass:"line-number"},[s._v("98")]),t("br"),t("span",{staticClass:"line-number"},[s._v("99")]),t("br"),t("span",{staticClass:"line-number"},[s._v("100")]),t("br"),t("span",{staticClass:"line-number"},[s._v("101")]),t("br"),t("span",{staticClass:"line-number"},[s._v("102")]),t("br"),t("span",{staticClass:"line-number"},[s._v("103")]),t("br"),t("span",{staticClass:"line-number"},[s._v("104")]),t("br")])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("æ³¨æ„")]),s._v(" "),t("p",[s._v("1.å¦‚æœæœ‰å‘ç”Ÿsockerè¿æ¥è¶…æ—¶ï¼Œæ³¨æ„æŸ¥çœ‹linuxæœºå™¨çš„é˜²ç«å¢™æ˜¯å¦å…³é—­")]),s._v(" "),t("p",[s._v("2.å¦‚æœå‘ç°ä¸Šä¼ æ–‡ä»¶ä¹‹åï¼Œæ–‡ä»¶ç›®å½•ä¸‹æœ‰-mï¼Œ-bigæ–‡ä»¶ç­‰ï¼Œè¿™äº›æ–‡ä»¶æ˜¯ä¸Šä¼ æ–‡ä»¶çš„å…ƒæ•°æ®")])]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æˆ–è€…ç«¯å£æ˜¯å¦å¼€æ”¾")]),s._v("\nvi /etc/sysconfig/iptables\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹å¼€æ”¾çš„ç«¯å£æ•°é‡")]),s._v("\nservice iptables status\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹å…ƒæ•°æ®æ–‡ä»¶, æ˜¯ å‚æ•°author,height,widthçš„é”®å€¼å¯¹")]),s._v("\nvi test.png.m \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å…³é—­å…ƒæ•°æ®ä¸Šä¼ ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åœ¨è°ƒç”¨client.upload_file()æ—¶ï¼Œmeta_listå…¥å‚ä¼ nullå³å¯")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h2",{attrs:{id:"_4-æ–‡ä»¶æœåŠ¡æ¡ˆä¾‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-æ–‡ä»¶æœåŠ¡æ¡ˆä¾‹"}},[s._v("#")]),s._v(" 4 æ–‡ä»¶æœåŠ¡æ¡ˆä¾‹")]),s._v(" "),t("h3",{attrs:{id:"_4-1-éœ€æ±‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-éœ€æ±‚"}},[s._v("#")]),s._v(" 4.1 éœ€æ±‚")]),s._v(" "),t("p",[t("img",{attrs:{src:"/image/fastdfs3.jpg",alt:""}})]),s._v(" "),t("ul",[t("li",[t("p",[s._v("ä¸Šä¼ é¡µé¢ä¸Šä¼ å›¾ç‰‡åˆ°"),t("code",[s._v("fastDFS")]),s._v("æ–‡ä»¶ç³»ç»Ÿã€‚")]),s._v(" "),t("ul",[t("li",[s._v("è¿›å…¥ä¸Šä¼ é¡µé¢ï¼Œç‚¹å‡»ä¸Šä¼ å›¾ç‰‡ï¼Œé€‰æ‹©æœ¬åœ°å›¾ç‰‡")]),s._v(" "),t("li",[s._v("é€‰æ‹©æœ¬åœ°å›¾ç‰‡åï¼Œè¿›è¡Œä¸Šä¼ ï¼Œå‰ç«¯æµè§ˆå™¨ä¼šé€šè¿‡"),t("code",[s._v("http")]),s._v("è°ƒç”¨æ–‡ä»¶ç®¡ç†æœåŠ¡çš„æ–‡ä»¶ä¸Šä¼ æ¥å£è¿›è¡Œä¸Šä¼ ")]),s._v(" "),t("li",[s._v("æ–‡ä»¶ç®¡ç†æœåŠ¡é€šè¿‡"),t("code",[s._v("socket")]),s._v("è¯·æ±‚"),t("code",[s._v("FastDFS")]),s._v("æ–‡ä»¶ç³»ç»Ÿçš„ä¸Šä¼ å›¾ç‰‡ï¼Œæœ€ç»ˆå›¾ç‰‡ä¿å­˜åœ¨"),t("code",[s._v("FastDFS")]),s._v("æ–‡ä»¶ç³»ç»Ÿä¸­çš„"),t("code",[s._v("storage server")]),s._v("ä¸­ã€‚")])])]),s._v(" "),t("li",[t("p",[s._v("æµè§ˆä¸Šä¼ çš„å›¾ç‰‡")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("è¿›å…¥è§†é¢‘ä¸‹è½½é¡µé¢")])]),s._v(" "),t("li",[t("p",[s._v("å‰ç«¯æµè§ˆå™¨é€šè¿‡å›¾ç‰‡åœ°å€è¯·æ±‚å›¾ç‰‡æœåŠ¡å™¨ä»£ç†"),t("code",[s._v("nginx")])])]),s._v(" "),t("li",[t("p",[s._v("å›¾ç‰‡æœåŠ¡å™¨ä»£ç†æ ¹æ®è´Ÿè½½æƒ…å†µå°†å›¾ç‰‡æµè§ˆè¯·æ±‚è½¬å‘åˆ°ä¸€å°"),t("code",[s._v("storage server")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("storage server")]),s._v("æ‰¾åˆ°å›¾ç‰‡åé€šè¿‡"),t("code",[s._v("nginx")]),s._v("å°†å›¾ç‰‡å“åº”ç»™ç½‘å‹")])])])])]),s._v(" "),t("h3",{attrs:{id:"_4-2-å®‰è£…-fastdfsã€nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-å®‰è£…-fastdfsã€nginx"}},[s._v("#")]),s._v(" 4.2 å®‰è£… FastDFSã€Nginx")]),s._v(" "),t("h4",{attrs:{id:"_4-2-1-å®‰è£…fastdfs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-å®‰è£…fastdfs"}},[s._v("#")]),s._v(" 4.2.1 å®‰è£…FastDFS")]),s._v(" "),t("p",[s._v("å‚ä¸Š")]),s._v(" "),t("h4",{attrs:{id:"_4-2-2-å®‰è£…nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-å®‰è£…nginx"}},[s._v("#")]),s._v(" 4.2.2 å®‰è£…Nginx")]),s._v(" "),t("p",[s._v("é¦–å…ˆå‚è€ƒ"),t("a",{attrs:{href:"/dev/nginx/nginxstudy"}},[s._v("nginxåŸºç¡€å…¥é—¨")]),s._v("ï¼Œäº†è§£å’Œæ­å»º"),t("code",[s._v("nginx")]),s._v("æœåŠ¡å™¨")]),s._v(" "),t("h4",{attrs:{id:"_4-2-3-å®‰è£…-fastdfs-nginx-module"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-3-å®‰è£…-fastdfs-nginx-module"}},[s._v("#")]),s._v(" 4.2.3 å®‰è£… FastDFS-nginx-module")]),s._v(" "),t("p",[s._v("æœ¬æ–‡ä½¿ç”¨çš„æ˜¯ "),t("code",[s._v("FastDFS-nginx-module_v1.16.tar.gz")])]),s._v(" "),t("p",[s._v("å‚è€ƒ"),t("code",[s._v("github")]),s._v("åœ°å€ï¼šhttps://github.com/happyfish100/fastdfs-nginx-module")]),s._v(" "),t("p",[t("strong",[s._v("æ³¨æ„ï¼šè¦å…ˆå…³é—­æ‰€æœ‰çš„"),t("code",[s._v("nginx")]),s._v("è¿›ç¨‹ï¼Œå†è¿›è¡Œä¸‹é¢çš„æ­¥éª¤")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("è°ƒæ•´ "),t("code",[s._v("fastdfs-nginx-module")]),s._v("é…ç½®")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è°ƒæ•´ mod_fastdfs.confé…ç½® ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿›å…¥fastdfs-nginx-moduleè§£å‹ç›®å½•")]),s._v("\ncd /home/chenyn/fastdfs/fastdfs-nginx-module/src\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¤åˆ¶mod_fastdfs.confå¤åˆ¶åˆ°/etc/fdfs/é‡Œé¢")]),s._v("\ncp mod_fastdfs.conf /etc/fdfs/\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è°ƒæ•´mod_fastdfs.confé…ç½®ï¼Œæ ¹æ®å®é™…æƒ…å†µè°ƒæ•´è·¯å¾„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ›´æ”¹ base_path=/home/chenyn/fastdfs/FastDFS")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ›´æ”¹ tracker_server=192.168.209.128:22122")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ›´æ”¹ store_path0=/home/chenyn/fastdfs/FastDFS/storage")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è°ƒæ•´fastdfs-nginx-moduleçš„configæ–‡ä»¶ ")]),s._v("\n vi  config \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#ï¼ˆè¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œå¾ˆé‡è¦ï¼Œå¾ˆé‡è¦ï¼ˆé‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼‰ ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# CORE_INCS="$CORE_INCS /usr/local/include/fastdfs /usr/local/include/fastcommon/" --åˆ é™¤local')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# CORE_LIBS="$CORE_LIBS -L/usr/local/lib -lfastcommon -lfdfsclient" --åˆ é™¤local')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("é‡æ–°ç¼–è¯‘nginx")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿›å…¥è§£å‹çš„nginxç›®å½•ï¼ˆæ ¹æ®ä¸ªäººæƒ…å†µè°ƒæ•´ç›®å½•ç»“æ„ï¼‰")]),s._v("\ncd /home/chenyn/nginx/nginx-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.17.5")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®FastDFS-nginx-module åˆ°nginxä¸­")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ›å»ºä¸´æ—¶ç›®å½• ")]),s._v("\nmkdir -p /var/temp/nginx \n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç”¨ä¸‹é¢çš„å‘½ä»¤")]),s._v("\n./configure \\\n    --add-module=/home/chenyn/fastdfs/fastdfs-nginx-module/src\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# (/home/chenyn/fastdfs/fastdfs-nginx-module/srcæ ¹æ®è‡ªå·±çš„æ–‡ä»¶ç›®å½•æ¥é…)")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é‡æ–°ç¼–è¯‘")]),s._v("\nmake\nmake install\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])])])]),s._v(" "),t("h4",{attrs:{id:"_4-2-4-é…ç½®nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-4-é…ç½®nginx"}},[s._v("#")]),s._v(" 4.2.4 é…ç½®nginx")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("åªæœ‰ä¸€ä¸ª"),t("code",[s._v("group")]),s._v("æ—¶ï¼Œæœ€ç®€å•çš„é…ç½®ï¼šå½“"),t("code",[s._v("mod_fastdfs.conf")]),s._v(" é…ç½®æ–‡ä»¶ä¸­åªæœ‰ä¸€ä¸ª"),t("code",[s._v("group1")]),s._v(", ä¸”é…ç½®äº†"),t("code",[s._v("url_have_group_name = false")]),s._v("æ—¶ï¼Œå³è®¿é—®åœ°å€ä¸ä½¿ç”¨åˆ†ç»„åç§°ï¼Œé‚£ä¹ˆåªéœ€åœ¨"),t("code",[s._v("nginx")]),s._v("çš„é…ç½®æ–‡ä»¶ä¸­å¢åŠ ä»¥ä¸‹é…ç½®å³å¯:ï¼ˆä¸æ¨èï¼‰")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿›å…¥nginxé…ç½®ç›®å½•")]),s._v("\ncd /usr/local/nginx/conf\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#åœ¨nginx.confé‡Œé¢çš„server{é‡Œé¢æ·»åŠ location /M00â€¦â€¦}ï¼Œæ·»åŠ ä¸‹é¢çš„å‡ è¡Œï¼š")]),s._v("\nlocation /M00 {\n      root /home/chenyn/fastdfs/FastDFS/storage/data;\n          ngx_fastdfs_module;\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#é…ç½®è´Ÿè½½å‡è¡¡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#storageç¾¤group1ç»„")]),s._v("\nupstream storage_server_group1{\n    \tserver "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.101.5")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" weight="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(";\n\t\tserver "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.101.6")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" weight="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(";\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#storageç¾¤group2ç»„")]),s._v("\nupstream storage_server_group2{\n    \tserver "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.101.7")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" weight="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(";\n\t\tserver "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.101.8")]),s._v(":"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" weight="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(";\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("p",[s._v("å¤šä¸ª"),t("code",[s._v("group")]),s._v("é…ç½®ï¼Œå½“é…ç½®å¤šä¸ªç»„ï¼Œä¸”"),t("code",[s._v("mod_fastdfs.conf")]),s._v("é‡Œé¢æŒ‡å®šäº†"),t("code",[s._v("url_have_group_name= true")]),s._v(" æ—¶ï¼Œé…ç½®æ–¹å¼:ï¼ˆå»ºè®®å³ä½¿ç”¨çš„æ˜¯å•ä¸ª"),t("code",[s._v("group")]),s._v("ï¼Œä¹ŸæŒ‰è¯¥æ–¹æ³•é…ç½®ï¼‰")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[s._v(" location ~  /"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("group")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("["),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v("]"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" /M00 {\n        root /home/chenyn/fastdfs/FastDFS/storage/data;\n        ngx_fastdfs_module;\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¯”å¦‚:åœ¨group1ä¸Šçš„ nginx çš„nginx.conf é…ç½®æ˜¯")]),s._v("\n  location  /group1/M00 {\n        root /home/chenyn/fastdfs/FastDFS/storage/data;\n        ngx_fastdfs_module;\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¯”å¦‚:åœ¨group2ä¸Šçš„ nginx çš„nginx.conf é…ç½®æ˜¯")]),s._v("\n  location   /group2/M00 {\n        root /home/chenyn/fastdfs/FastDFS/storage/data;\n        ngx_fastdfs_module;\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("åˆ›å»ºè½¯è¿æ¥")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ ¹æ®å®é™…å­˜å‚¨ä½ç½®è°ƒæ•´è·¯å¾„")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ›å»ºè½¯è¿æ¥çš„ç›®çš„æ˜¯ä¸ºäº†å°†M00è™šæ‹Ÿè·¯å¾„è½¬åŒ–ä¸€ä¸‹")]),s._v("\nln -s /home/chenyn/fastdfs/FastDFS/storage/data /home/chenyn/fastdfs/FastDFS/storage/data/M00\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("è°ƒæ•´"),t("code",[s._v("FastDFS")]),s._v("é…ç½®")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿›å…¥ FastDFSè§£å‹ç›®å½•")]),s._v("\ncd /home/chenyn/fastdfs/FastDFS/conf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç§»åŠ¨é…ç½®æ–‡ä»¶")]),s._v("\ncp  http.conf   /etc/fdfs/\ncp  mime.types  /etc/fdfs/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("å¯åŠ¨"),t("code",[s._v("FastDFS")]),s._v("ã€"),t("code",[s._v("nginx")])]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯åŠ¨Tracker")]),s._v("\n/usr/bin/fdfs_trackerd /etc/fdfs/tracker.conf restart\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯åŠ¨Storage")]),s._v("\n/usr/bin/fdfs_storaged /etc/fdfs/storage.conf restart\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯åŠ¨nginx")]),s._v("\ncd /usr/local/nginx/sbin\n./nginx -s restart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"_4-3-é€šè¿‡httpè®¿é—®fastdfså›¾ç‰‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-é€šè¿‡httpè®¿é—®fastdfså›¾ç‰‡"}},[s._v("#")]),s._v(" 4.3 é€šè¿‡"),t("code",[s._v("HTTP")]),s._v("è®¿é—®"),t("code",[s._v("FastDFS")]),s._v("å›¾ç‰‡")]),s._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[s._v("http://192.168.209.128/group1/M00/00/00/wKjRgF3PSxiAHuHtAAFl33KnvNs253.jpg\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("å¦‚æœå¯ä»¥æ­£å¸¸æŸ¥çœ‹æˆ–è€…ä¸‹è½½ï¼Œæ­å–œé…ç½®æˆåŠŸğŸ˜™")]),s._v(" "),t("p",[s._v("å¦‚æœå¤±è´¥ï¼Œå¯ä»¥ä»”ç»†æŸ¥çœ‹ä¸€ä¸‹ä¸Šé¢çš„å‘½ä»¤å’Œé…ç½®ï¼Œæ³¨æ„å‘½ä»¤å°½é‡ä¸è¦å¤åˆ¶ï¼Œå¯èƒ½ä¼šæœ‰é—®é¢˜â˜ºï¸")]),s._v(" "),t("h3",{attrs:{id:"_4-4-å®‰è£…-fastdhtå®ç°æ–‡ä»¶å»é‡å¤„ç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-å®‰è£…-fastdhtå®ç°æ–‡ä»¶å»é‡å¤„ç†"}},[s._v("#")]),s._v(" 4.4 å®‰è£… "),t("code",[s._v("FastDHT")]),s._v("å®ç°æ–‡ä»¶å»é‡å¤„ç†")]),s._v(" "),t("p",[t("code",[s._v("FastDHT")]),s._v("æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„åˆ†å¸ƒå¼å“ˆå¸Œç³»ç»Ÿï¼Œå®ƒæ˜¯åŸºäºé”®å€¼å¯¹å­˜å‚¨çš„ï¼Œè€Œä¸”å®ƒéœ€è¦ä¾èµ–äº"),t("code",[s._v("Berkeley DB")]),s._v("ä½œä¸ºæ•°æ®å­˜å‚¨çš„åª’ä»‹ï¼ŒåŒæ—¶éœ€è¦ä¾èµ–äº"),t("code",[s._v("libfastcommon")]),s._v("ã€‚")]),s._v(" "),t("p",[t("code",[s._v("FastDHT")]),s._v("é›†ç¾¤ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªç»„"),t("code",[s._v("group")]),s._v("ç»„æˆï¼ŒåŒç»„æœåŠ¡å™¨ä¸Šå­˜å‚¨çš„æ•°æ®æ˜¯ç›¸åŒçš„ï¼Œæ•°æ®åŒæ­¥åªåœ¨ç»„çš„æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œï¼›ç»„å†…å„ä¸ªæœåŠ¡æ˜¯å¯¹ç­‰çš„ï¼Œå¯¹æ•°æ®è¿›è¡Œå­˜å–æ—¶ï¼Œå¯ä»¥æ ¹æ® "),t("code",[s._v("key")]),s._v("çš„"),t("code",[s._v("hash")]),s._v("å€¼æ¥å†³å®šä½¿ç”¨å“ªå°æœºå™¨ã€‚")]),s._v(" "),t("h4",{attrs:{id:"_4-4-1-å®‰è£…berkeley-db"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-1-å®‰è£…berkeley-db"}},[s._v("#")]),s._v(" 4.4.1 å®‰è£…"),t("code",[s._v("Berkeley DB")])]),s._v(" "),t("p",[s._v("åœ¨å®‰è£…"),t("code",[s._v("FastDHT")]),s._v("ä¹‹å‰ï¼Œéœ€è¦é¦–å…ˆå®‰è£…"),t("code",[s._v("Berkeley DB")]),s._v("ï¼Œä¹Ÿéœ€è¦å®‰è£…"),t("code",[s._v("libfastcommon")]),s._v("ï¼Œä¸è¿‡è¿™å®‰è£…"),t("code",[s._v("FastDFS")]),s._v("æ—¶å·²ç»å®‰è£…äº†"),t("code",[s._v("libfastcommon")]),s._v("ï¼Œæ‰€ä»¥è¿™é‡Œçœç•¥ã€‚")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸‹è½½ berkeley-db")]),s._v("\ncd /home/chenyn/fastdfs\nwget http://download.oracle.com/berkeley-db/db-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.7.25")]),s._v(".tar.gz\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è§£å‹")]),s._v("\ntar -zxvf db-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.7.25")]),s._v(".tar.gz\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿›å…¥è§£å‹ç›®å½•")]),s._v("\ncd db-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.7.25")]),s._v("/build_unix\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# éªŒè¯å®‰è£…ç¯å¢ƒï¼ˆå®‰è£…åˆ°äº†/usrç›®å½•ä¸‹ï¼‰")]),s._v("\nsudo ../dist/configure --prefix=/usr\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¼–è¯‘ï¼Œä»Makefileä¸­è¯»å–æŒ‡ä»¤ï¼Œç„¶åç¼–è¯‘")]),s._v("\nsudo make\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®‰è£…ï¼Œä»Makefileä¸­è¯»å–æŒ‡ä»¤ï¼Œå®‰è£…åˆ°æŒ‡å®šä½ç½®")]),s._v("\nsudo make install\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h4",{attrs:{id:"_4-4-2-å®‰è£…fastdht"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-2-å®‰è£…fastdht"}},[s._v("#")]),s._v(" 4.4.2 å®‰è£…FastDHT")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[s._v("cd /home/chenyn/fastdfs\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wgetä¸‹è½½FastDHTå®‰è£…åŒ… ï¼ˆå¯ä»¥æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ç‰ˆæœ¬ï¼‰")]),s._v("\nwget http://sourceforge.net/projects/fastdht/files/FastDHT%20server%20and%20php%20ext/FastDHT%20Server%20Source%20Code%20V2."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),s._v("/FastDHT_v2."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),s._v(".tar.gz\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è§£å‹")]),s._v("\ntar â€“zxvf FastDHT_v2."),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),s._v(".tar.gz\ncd FastDHT\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¼–è¯‘ä¹‹å‰éœ€è¦ä¿®æ”¹make.sh")]),s._v("\nvi make.sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ–‡ä»¶ä¸­çš„ â€œCFLAGS='-Wall -D_FILE_OFFSET_BITS=64 -D_GNU_SOURCE'â€ ä¿®æ”¹ä¸º â€œCFLAGS='-Wall -D_FILE_OFFSET_BITS=64 -D_GNU_SOURCE -I/usr/include/ -L/usr/lib/'â€ ï¼ˆ-I/usr/include/ -L/usr/lib/ï¼‰è¿™é‡Œå¯¹åº”ä¸Šé¢Berkeleyçš„å®‰è£…ç›®å½•")]),s._v("\nsudo ./make.sh\nsudo ./make.sh install\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h4",{attrs:{id:"_4-4-3-é…ç½®fastdht"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-3-é…ç½®fastdht"}},[s._v("#")]),s._v(" 4.4.3 é…ç½®FastDHT")]),s._v(" "),t("p",[s._v("å…ˆç¡®è®¤ç›®å½•"),t("code",[s._v("/data/fastdht/")]),s._v("å·²åˆ›å»ºï¼Œå¦‚æœæ²¡æœ‰åˆ›å»ºï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºç›®å½•ï¼š")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[s._v("mkdir -p /data/fastdht\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®fdht_client.confæ–‡ä»¶")]),s._v("\ncd /etc/fdht\nvi fdht_client.conf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¿®æ”¹ä¸‹é¢é…ç½®")]),s._v("\nbase_path=/data/fastdht\nkeep_alive="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#include /etc/fdht/fdht_servers.conf   ---è¯¥é…ç½®ä¸æ˜¯æ³¨é‡Šï¼Œä¸€å®šè¦åŠ !!!")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®fdht_servers.conf")]),s._v("\nvi fdht_servers.conf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ ¹æ®fdhtçš„æœºå™¨æ•°é‡è°ƒæ•´ï¼Œä¸‹é¢ä¸º1å°å‚è€ƒé…ç½®")]),s._v("\ngroup_count="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\ngroup0="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168.209.128")]),s._v(";"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11411")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®fdhtd.conf")]),s._v("\nvi fdhtd.conf\nport="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11411")]),s._v("\nbash_path=/data/fastdht\ncache_size=32MB\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#include /etc/fdht/fdht_servers.conf ---è¯¥é…ç½®ä¸æ˜¯æ³¨é‡Šï¼Œä¸€å®šè¦åŠ !!!")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é…ç½®fastdfsçš„storage.conf")]),s._v("\nvi /etc/fdfs/storage.conf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ˜¯å¦æ£€æŸ¥ä¸Šä¼ æ–‡ä»¶å·²ç»å­˜åœ¨ã€‚å¦‚æœå·²ç»å­˜åœ¨ï¼Œåˆ™å»ºç«‹ä¸€ä¸ªç´¢å¼•é“¾æ¥ä»¥èŠ‚çœç©ºé—´")]),s._v("\ncheck_file_duplicate="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# check_file_duplicate=1æ—¶ï¼ŒFastDHTçš„å‘½åç©ºé—´")]),s._v("\nkey_namespace=FastDFS\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é•¿è¿æ¥é…ç½®é€‰é¡¹ï¼Œ0ä¸ºçŸ­è¿æ¥ 1ä¸ºé•¿è¿æ¥")]),s._v("\nkeep_alive="),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#include /etc/fdht/fdht_servers.conf ---è¯¥é…ç½®ä¸æ˜¯æ³¨é‡Šï¼Œä¸€å®šè¦åŠ !!!")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br")])]),t("h4",{attrs:{id:"_4-4-4-å¯åŠ¨fastdht"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-4-å¯åŠ¨fastdht"}},[s._v("#")]),s._v(" 4.4.4 å¯åŠ¨"),t("code",[s._v("FastDHT")])]),s._v(" "),t("p",[s._v("å¯åŠ¨å‰å…³é—­é˜²ç«å¢™ï¼Œæˆ–è€…å¼€å¯ç«¯å£ï¼ˆ11411ï¼‰")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[s._v("vi /etc/sysconfig/iptables\næ·»åŠ å¦‚ä¸‹ç«¯å£è¡Œï¼š\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# FastDHT Port")]),s._v("\n-A INPUT -m state --state NEW -m tcp -p tcp --dport "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11411")]),s._v(" -j ACCEPT\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¿®æ”¹ä¹‹åé‡å¯é˜²ç«å¢™ï¼š")]),s._v("\n service iptables restart\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¹‹åï¼Œå°±å¯ä»¥ç›´æ¥å¯åŠ¨FastDHTäº†ã€‚")]),s._v("\n /usr/local/bin/fdhtd /etc/fdht/fdhtd.conf\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯ä»¥ç›‘æ§11411ç«¯å£å·çš„ä½¿ç”¨æƒ…å†µï¼Œç¡®è®¤æ˜¯å¦å¯åŠ¨æˆåŠŸã€‚")]),s._v("\n netstat â€“unltp | grep "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11411")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h4",{attrs:{id:"_4-4-5-ä¸Šä¼ æµ‹è¯•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-5-ä¸Šä¼ æµ‹è¯•"}},[s._v("#")]),s._v(" 4.4.5 ä¸Šä¼ æµ‹è¯•")]),s._v(" "),t("p",[s._v("ä½¿ç”¨"),t("code",[s._v("3.2èŠ‚")]),s._v("çš„ä¸Šä¼ æ–¹æ³•ä¸Šä¼ é‡å¤æ–‡ä»¶ï¼Œè¿›å…¥"),t("code",[s._v("/M00/00/00")]),s._v(" æŸ¥çœ‹")]),s._v(" "),t("p",[t("img",{attrs:{src:"/image/fdht.jpg",alt:""}})]),s._v(" "),t("p",[s._v("å‡ºç°ä¸Šå›¾ï¼Œè½¯è¿æ¥æŒ‡å‘ï¼Œæ­å–œ~~ğŸ˜ƒ")]),s._v(" "),t("h3",{attrs:{id:"_4-5-å¸¸è§é”™è¯¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-å¸¸è§é”™è¯¯"}},[s._v("#")]),s._v(" 4.5 å¸¸è§é”™è¯¯")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("é…ç½®"),t("code",[s._v("FastDFS-nginx-moudle")]),s._v("å‘ç”Ÿ"),t("code",[s._v("nginx")]),s._v("è®¿é—®ä¸äº†çš„æƒ…å†µï¼ŒæŸ¥çœ‹"),t("code",[s._v("nginx")]),s._v("å¯åŠ¨æ—¥å¿—ï¼ŒæŒ‰é”™è¯¯ä¿¡æ¯æ’æŸ¥")]),s._v(" "),t("div",{staticClass:"language-cmake line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-cmake"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#Nginx æœåŠ¡å™¨å¯åŠ¨å¤±è´¥çš„ï¼Œé”™è¯¯ä¿¡æ¯ï¼štrunk_shared.c, line: 177, "Permission denied" can\'t be accessed')]),s._v("\nåªéœ€ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶ï¼Œè¾“å…¥å‘½ä»¤ â€œ vi /usr/local/nginx/conf/nginx.conf â€,åœ¨é…ç½®æ–‡ä»¶çš„å¼€å¤´åŠ å…¥ â€œ user root; â€ å³å¯\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nginxæ—¥å¿—æŠ¥é”™ERROR - file: ../common/fdfs_global.c, line: 52, the format of filename")]),s._v("\nvi /etc/fdfs/mod_fastdfs.conf\nå°†  url_have_group_name=false æ”¹ä¸º url_have_group_name=true\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å…¶ä»–å¸¸è§é—®é¢˜,æˆ–è€…æ ¹æ®æ—¥å¿—é”™è¯¯ä¿¡æ¯æ‰¾ç™¾åº¦")]),s._v("\nhttp://www.mamicode.com/info-detail-"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1992668")]),s._v(".html\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])])])]),s._v(" "),t("h1",{attrs:{id:"å¯åŠ¨fdhtæŠ¥é”™ï¼šerror-while-loading-shared-libraries-xxx-so-0-cannot-open-shared-object-file-no-such-file-or-directory"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¯åŠ¨fdhtæŠ¥é”™ï¼šerror-while-loading-shared-libraries-xxx-so-0-cannot-open-shared-object-file-no-such-file-or-directory"}},[s._v("#")]),s._v(" å¯åŠ¨fdhtæŠ¥é”™ï¼šerror while loading shared libraries: xxx.so.0:cannot open shared object file: No such file or directory")]),s._v(" "),t("p",[s._v("å‡ºç°è¿™ç±»é”™è¯¯è¡¨ç¤ºï¼Œç³»ç»Ÿä¸çŸ¥é“xxx.soæ”¾åœ¨å“ªä¸ªç›®å½•ä¸‹ï¼Œè¿™æ—¶å€™å°±è¦åœ¨/etc/ld.so.confä¸­åŠ å…¥xxx.soæ‰€åœ¨çš„ç›®å½•ã€‚\nä¸€èˆ¬è€Œè¨€ï¼Œæœ‰å¾ˆå¤šçš„soä¼šå­˜æ”¾åœ¨/usr/local/libè¿™ä¸ªç›®å½•åº•ä¸‹ï¼Œå»è¿™ä¸ªç›®å½•åº•ä¸‹æ‰¾ï¼Œæœç„¶å‘ç°è‡ªå·±æ‰€éœ€è¦çš„.soæ–‡ä»¶ã€‚\næ‰€ä»¥ï¼Œåœ¨/etc/ld.so.confä¸­åŠ å…¥/usr/local/libè¿™ä¸€è¡Œï¼Œä¿å­˜ä¹‹åï¼Œå†è¿è¡Œï¼š/sbin/ldconfig â€“v æ›´æ–°ä¸€ä¸‹é…ç½®å³å¯ã€‚")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);